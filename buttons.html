<!DOCTYPE html>
<html>
    <head>
        <link href="https://fonts.googleapis.com/css2?family=Comfortaa:wght@500&family=Dancing+Script:wght@700&family=Great+Vibes&family=PT+Sans:wght@400;700&family=Roboto:wght@300&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Jost:wght@500&display=swap" rel="stylesheet">
        <style>
    #main {
    background-color: #222;
    color: white;
    font-family: PT Sans;
    height: 100vh;
    width: 101%;
    margin: -8px 0 0 -8px;
    display: flex;
    align-items: center;
    flex-direction: column;
    }

    #test {
        background-color: red;
        height: 500px;
        width: 500px;
        display: flex;
    }

    #img-div {
        height: 40%;
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    img {
        height: 100%;
        width: auto;
    }

    #spacing {
        height: 5%;
    }

    #button-div {
        height: 50px;
        width: 50px;
    }

    #challenge {
        height: auto;
        width: auto;
        font-size: 30px;
        color: white;
        font-family: Jost;
    }

    #playButton {
        height: auto;
        width: auto;
        background-color: rgba(0, 183, 255, 0.815);
        font-size: 30px;
        padding: 0.2em 0.3em 0.2em 0.3em;
        border-top-left-radius: 5%;
        border-top-right-radius: 5%;
        border-bottom-left-radius: 5%;
        border-bottom-right-radius: 5%;
        color: white;
        font-family: Jost;
    }

    .option {
        font-family: Jost;
        color: white;
        background-color: black;
        font-size: 20px;
        padding: 0.2em 0.3em 0.2em 0.3em;
        margin: 0px 0px 5px 0px;
        border-top-left-radius: 5%;
        border-top-right-radius: 5%;
        border-bottom-left-radius: 5%;
        border-bottom-right-radius: 5%;
    }

    #playByPlay {
        height: 35%;
        width: 30%;
        margin: 0px 20px 20px 20px;
        background-color: black;
        align-self: flex-start;
        border: 1px solid white;
        border-top-left-radius: 5%;
        border-top-right-radius: 5%;
        border-bottom-left-radius: 5%;
        border-bottom-right-radius: 5%;
        position: absolute;
        top: 60%;
        display: flex;
        flex-direction: column;
    }

    .commentary {
        height: 33.33333%;
        width: 100%;
        border-bottom: 1px white;
    }

    #computerScore {
        height: 30%;
        width: 20%;
        background-color: black;
        align-self: flex-end;
        border: 1px solid white;
        border-top-left-radius: 5%;
        border-top-right-radius: 5%;
        border-bottom-left-radius: 5%;
        border-bottom-right-radius: 5%;
        position: absolute;
        top: 60%;
        right: 20px;
    }
        </style>
    </head>
    <body>
        <div id="main">
            <div id="spacing"></div>
        <div id="img-div">
            <img src="https://image.freepik.com/free-vector/evil-robot-that-has-broken-bad-behavior-flat-character-vector-illustration_124715-185.jpg">
        </div>
        <div id="spacing"></div>
        <div id="challenge">THE ROBOT CHALLENGES YOU TO ROCK, PAPER, SCISSORS...</div>
        <div id="spacing"></div>
        <div>
            <button type="button" id="playButton">
                PLAY
            </button>
        </div>
        <div id="spacing"></div>
        <div style="display: flex; flex-direction: column;">
            <button class="option" id="rock">Rock</button>
            <button class="option" id="paper">Paper</button>
            <button class="option" id="scissors">Scissors</button>
        </div>
        <div id="playByPlay">
            <div id="scoreboard" class="commentary"></div>
            <div class="commentary"></div>
            <div class="commentary"></div>
        </div>
        </div>
    <script>
        let playerScore = 0;
        let computerScore = 0;
        let scores = [playerScore, computerScore];

        function makeComputerMove() {
            let max = 3;
            let number = Math.floor(Math.random() * max);
            if (number == 2) {result = "scissors"}
            else if (number == 1) {result = "paper"}
            else if (number == 0) {result = "rock"}
            else {alert("wtf lol")}
            return result;
        }
        
        function game() {
            let playerName = prompt("What is your name?", "");
            let playerScore = 0;
            let computerScore = 0;
            let scores = [playerScore, computerScore];
            if (playerScore < 5 && computerScore < 5) {
                round(scores);
            }
            else if (playerScore == 5) {
                alert(`${playerName} HAS BEATEN THE COMPUTER!`);
            }
            else if (computerScore == 5) {
                alert(`${playerName} has been defeated by the computer...`)
            }
        } 
        
        function round(playerMove) {
                computerMove = makeComputerMove();
                console.log(playerMove.toLowerCase());
                console.log(computerMove);
                switch (playerMove) {
                case "Rock":
                    if (computerMove == "paper") 
                    {scoreboard.textContent = `Computer used ${computerMove}.
                    Computer wins.`; scoreCounter(scores[1])}
                    else if (computerMove == "scissors") 
                    {scoreboard.textContent = `Computer used ${computerMove}.
                    Player wins!`; scoreCounter(scores[0])}
                    else if (computerMove == "rock") {scoreboard.textContent = `Computer used ${computerMove}.
                    It\'s a tie!`};
                    break;
                
                case "Paper":
                    if (computerMove == "scissors") 
                    {scoreboard.textContent = `Computer used ${computerMove}.
                    Computer wins.`; scoreCounter(scores[1])}
                    else if (computerMove == "rock") 
                    {scoreboard.textContent = `Computer used ${computerMove}.
                    Player wins!`; scoreCounter(scores[0])}
                    else if (computerMove == "paper") {scoreboard.textContent = `Computer used ${computerMove}.
                    It\'s a tie!`};
                    break;
                
                case "Scissors":
                    if (computerMove == "rock") 
                    {scoreboard.textContent = `Computer used ${computerMove}.
                    Computer wins.`; scoreCounter(scores[1])}
                    else if (computerMove == "paper") 
                    {scoreboard.textContent = `Computer used ${computerMove}.
                    Player wins!`; scoreCounter(scores[0])}
                    else if (computerMove == "scissors") {scoreboard.textContent = `Computer used ${computerMove}.
                    It\'s a tie!`};
                    break;
                    
                default: alert("oops, something went wrong");
                    break;
                }
                console.log("after scoreCounter" + scores);
                if (playerScore >= 5) {
                    scoreboard.textContent == "Player wins!"
                }
                else if (computerScore >= 5) {
                    scoreboard.textContent = "Computer wins!"
                }
                else {
                    scoreboard.textContent += `Player: ${scores[0]}. Computer: ${scores[1]}`
                    };
                return scores;
        }
            
        

        function scoreCounter(score) {
            if (score == scores[0]) {scores[0]++}
            else {scores[1]++};
            console.log("inside scoreCounter" + scores);
            return scores;
        }

        const main = document.getElementById("main");

        const playButton = document.getElementById("playButton");
        playButton.addEventListener("click", game);

        const rock = document.getElementById("rock");
        rock.textContent = "Rock";

        const paper = document.getElementById("paper");
        paper.textContent = "Paper";

        const scissors = document.getElementById("scissors");
        scissors.textContent = "Scissors";

        const scoreboard = document.getElementById("scoreboard");
        
        const buttons = document.querySelectorAll(".option");
        buttons.forEach((button) => {
            button.addEventListener("click", function () {
                round(button.textContent);
                console.log(scores);
            })
        }
        )
    </script>
    </body>
</html>